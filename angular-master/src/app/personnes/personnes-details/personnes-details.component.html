<div fxFlexFill fxLayoutAlign="center center" *ngIf="loading">
  <mat-card class="card">
    <mat-card-content>
      <mat-progress-spinner
        class="example-margin"
        [color]="'primary'"
        mode="indeterminate"
        diameter="100">
      </mat-progress-spinner>
    </mat-card-content>
  </mat-card>
</div>

<div fxLayout="row" fxLayoutAlign="space-around center" *ngIf="personne">
  <mat-card class="card" fxFlex="80">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image">
        <img mat-card-image src="{{ personne.avatar }}" alt="{{ personne.user.name }}">
      </div>
      <mat-card-title>
        {{ personne.user.name }}
      </mat-card-title>
      <mat-card-subtitle *ngIf="personne.user.is_admin">
        Administrateur
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p>
        {{ personne.cv }}
      </p>
    </mat-card-content>
    <mat-card-content *ngIf="currentUser.user.is_admin && !personne.user.is_admin">
      <p>
        <button mat-stroked-button mat-raised-button color="primary" (click)="setAsAdmin(personne.user.id)">Admin
        </button>
      </p>
    </mat-card-content>

    <mat-card-content *ngIf="currentUser.user.is_admin && personne.user.is_admin">
      <p>
        <button mat-stroked-button mat-raised-button color="primary" (click)="setAsAdmin(personne.user.id)">Non Admin
        </button>
      </p>
    </mat-card-content>

    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="editPersonne()">
        <mat-icon>edit</mat-icon>
        Modifier mon profil
      </button>
    </mat-card-actions>
  </mat-card>
</div>

<div>
  <mat-card class="stats" id="principal">
    <mat-card-content>
      Mes statistiques
    </mat-card-content>
  </mat-card>

  <mat-card class="stats">
    <mat-card-content>
      <p>
        Meilleur score : {{ personne.score }}
      </p>
    </mat-card-content>
    <mat-card-content>
      <p>
        Nombre de parties jou√©es : {{ personne.games }}
      </p>
    </mat-card-content>
  </mat-card>
</div>
